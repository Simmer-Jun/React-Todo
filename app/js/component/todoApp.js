define(["exports","module","react","react-redux","action","topbar","class","task","content","alert","pubsub"],function(t,e,s,a,i,n,c,r,u,o,d){"use strict";function l(t){return t&&t.__esModule?t:{"default":t}}function f(t,e){var s=t.classList,a=0;if("index"===e)return[];if("all"===e){var i=[];return s.map(function(t,e){i=i.concat(t.taskList)}),console.log(i),i}return s.map(function(t,s){t.id===e&&(a=s)}),s[a]?s[a].taskList:[]}function p(t,e){if("index"===e)return{};if("new"===e)return{};var s,a=t;return a.map(function(t,a){t.id===e&&(s=a)}),a[s]||{}}function m(t){var e=JSON.stringify(t);return window.localStorage.setItem("app",e),{classList:t.classList,taskList:f(t,t.activeItem.activeClassId),cont:p(f(t,t.activeItem.activeClassId),t.activeItem.activeTaskId),activeItem:t.activeItem,view:t.view}}var v=l(s),w=l(n),b=l(c),h=l(r),I=l(u),k=l(o),g=l(d);console.log(g["default"]);var T=v["default"].createClass({displayName:"Todoapp",getInitialState:function(){var t=this.props.dispatch;return g["default"].subscribe("addClass",function(){t(i.addClass(arguments[0]))}),g["default"].subscribe("deleteClass",function(){t(i.deleteClass(arguments[0]))}),g["default"].subscribe("setActiveClassId",function(){t(i.activeClassId(arguments[0]))}),g["default"].subscribe("setView",function(){t(i.setView(arguments[0]))}),g["default"].subscribe("setActiveTaskId",function(){t(i.activeTaskId(arguments[0]))}),g["default"].subscribe("addTask",function(){t(i.addTask(arguments[0]))}),g["default"].subscribe("modifyTask",function(){t(i.modifyTask(arguments[0]))}),g["default"].subscribe("setActiveTaskId",function(){t(i.activeTaskId(arguments[0]))}),g["default"].subscribe("deleteTask",function(){t(i.deleteTask(arguments[0]))}),{text:!0}},render:function(){var t=this.props.dispatch;return v["default"].createElement("div",{className:"wraper"},v["default"].createElement(w["default"],{view:this.props.view,setView:function(e){return t(i.setView(e))}}),v["default"].createElement("section",{className:"main clearfix"},v["default"].createElement(b["default"],{view:this.props.view,active:this.props.activeItem,classCont:this.props.classList}),v["default"].createElement(h["default"],{view:this.props.view,active:this.props.activeItem,taskCont:this.props.taskList}),v["default"].createElement(I["default"],{view:this.props.view,active:this.props.activeItem,cont:this.props.cont})),v["default"].createElement(k["default"],null))},componentDidMount:function(){var t=this;document.documentElement.offsetWidth<460&&this.props.dispatch(i.activeView(!0)),window.onresize=function(){document.documentElement.offsetWidth<460&&t.props.dispatch(i.activeView(!0))}}});e.exports=a.connect(m)(T)});